# z-disassemble
A disassembler for the machine code format of EECE2322's lab computer

## Features

- Handles all instruction types specified by the lab manual and zassemble
- Automatically derives the location of labels and generates address-based names
- Configurable hexadecimal or decimal format for addresses and immediate values
- Option to disable indentation after labels, automatically disabled if
  no labels are present in the program.

## Background

This tool is intended to be used in conjunction with
[zassemble](https://github.com/johnvtan/zassemble), an assembler for the
instruction set of the processor built in EECE2322's lab.

It takes the machine code produced by zassemble, `machine_code.coe`, and
produces an `.asm` source output that will assemble back to the original
machine code.

## Usage

Run `python disassemble.py machine_code.coe` to disassemble a machine code file
created by zassemble, and run `python disassemble.py -h` for a listing of
configurable settings; the output of which is copied below.

```
usage: disassemble.py [-h] [--addresses] [--notab] [--dec] file

A disassembler for EECE2322 style machine code created with zassemble.c

positional arguments:
  file         the path to a machine_code.coe file generated by zassemble

optional arguments:
  -h, --help   show this help message and exit
  --addresses  shows the address of every instruction, indexed at 0
  --notab      do not indent anything. note: always set if no labels present
  --dec        show all immediate values and addresses in decimal
```

## Docs / Examples

A set of documents is provided in the `docs/` directory that explain the
instruction set and assembly syntax used in the source files.
(There's more to come on the syntax front, but the ISA document should be a
good starting point.)

In the `examples/` directory, you will find some `.asm` files and their
corresponding machine code as created by zassemble. Feel free to use these to
get an idea of how z-disassemble works and its output.


